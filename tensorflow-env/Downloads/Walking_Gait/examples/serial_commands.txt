# ğŸ“ Exemples de Commandes SÃ©rie

## Configuration

**Vitesse** : 115200 baud  
**Port** : COM4 (Windows) ou /dev/ttyUSB0 (Linux) - adapter selon votre systÃ¨me

---

## ğŸ¯ ScÃ©nario 1 : Initialisation Simple

### Objectif
Initialiser le robot et vÃ©rifier que tous les servos rÃ©pondent.

### Ã‰tapes

```
Serial Console:

â†’ [Attendre le message d'accueil]
Serial Communication Established

[Taper chaque ligne suivie de EntrÃ©e]

c-1
â†’ Pin 0 Centered
â†’ Pin 1 Centered
â†’ Pin 2 Centered
â†’ Pin 3 Centered
â†’ Pin 4 Centered
â†’ Pin 6 Centered

[RÃ©sultat attendu: Tous les servos vont Ã  90Â°]
```

---

## ğŸš¶ ScÃ©nario 2 : Marche Simple Automatique

### Objectif
Faire marcher le robot automatiquement pendant 10 secondes.

### Ã‰tapes

```
c-1
â†’ [Tous les servos centrÃ©s]

w
â†’ [Le robot commence Ã  marcher]
â†’ [Observer le mouvement des jambes alternÃ©es]

[Attendre 10 secondes]

w
â†’ [Le robot s'arrÃªte]
â†’ Pin 0 Centered
â†’ Pin 1 Centered
...
```

---

## ğŸ® ScÃ©nario 3 : ContrÃ´le Manuel de Position

### Objectif
Positionner la jambe droite Ã  diffÃ©rentes positions en utilisant la cinÃ©matique inverse.

### Ã‰tapes - Position Centrale

```
// Position centrale devant (jambe droite)
l0 140
â†’ (x,y) = (0.00, 140.00) â†’ (Theta1, Theta2) = (90.00, 90.00)
â†’ Servo 0 angle 90 pwm 307
â†’ Servo 1 angle 90 pwm 307

[RÃ©sultat: Jambe droite bien alignÃ©e devant]
```

### Ã‰tapes - Position Avant

```
// Position avant (20 mm devant)
l20 140
â†’ (x,y) = (20.00, 140.00) â†’ (Theta1, Theta2) = (100.45, 85.32)
â†’ Servo 0 angle 100.45 pwm 337
â†’ Servo 1 angle 7.32 pwm 263

[RÃ©sultat: Jambe droite basculÃ©e vers l'avant]
```

### Ã‰tapes - Position ArriÃ¨re

```
// Position arriÃ¨re (20 mm en arriÃ¨re)
l-20 140
â†’ (x,y) = (-20.00, 140.00) â†’ (Theta1, Theta2) = (79.55, 85.32)
â†’ Servo 0 angle 79.55 pwm 277
â†’ Servo 1 angle 7.32 pwm 263

[RÃ©sultat: Jambe droite basculÃ©e vers l'arriÃ¨re]
```

### Ã‰tapes - Position LevÃ©e

```
// Position levÃ©e (20 mm devant, 150 mm haut)
l20 150
â†’ (x,y) = (20.00, 150.00) â†’ (Theta1, Theta2) = (95.12, 78.45)
â†’ Servo 0 angle 95.12 pwm 318
â†’ Servo 1 angle 5.45 pwm 251

[RÃ©sultat: Jambe droite levÃ©e et Ã©tendue]
```

---

## ğŸ”„ ScÃ©nario 4 : Progression Manuelle du Cycle

### Objectif
Visualiser Ã©tape par Ã©tape la progression de la marche.

### Ã‰tapes

```
// DÃ©but du cycle (jambe droite en swing)
p0.0
â†’ Progress 0.0
â†’ Servo 0 angle 75.2 pwm 252
â†’ Servo 1 angle 125.3 pwm 409

// 25% du cycle
p0.25
â†’ Progress 0.25
â†’ Servo 0 angle 78.5 pwm 263
â†’ Servo 1 angle 118.7 pwm 390

// Milieu (jambe gauche en swing)
p0.5
â†’ Progress 0.5
â†’ Servo 0 angle 95.0 pwm 317
â†’ Servo 1 angle 89.5 pwm 298

// 75% du cycle
p0.75
â†’ Progress 0.75
â†’ Servo 0 angle 112.3 pwm 375
â†’ Servo 1 angle 52.4 pwm 218

// Fin du cycle
p1.0
[Ã‰quivalent Ã  p0.0]
```

---

## ğŸ›ï¸ ScÃ©nario 5 : ContrÃ´le de Servos Individuels

### Objectif
Tester chaque servo indÃ©pendamment.

### Ã‰tapes - Servo 0 (Hanche droite)

```
// Position neutre
s0 90
â†’ Servo 0 angle 90 pwm 307

// Basculer Ã  gauche (avant)
s0 120
â†’ Servo 0 angle 120 pwm 397

// Basculer Ã  droite (arriÃ¨re)
s0 60
â†’ Servo 0 angle 60 pwm 217

// Retour au neutre
s0 90
â†’ Servo 0 angle 90 pwm 307
```

### Ã‰tapes - Servo 1 (Genou droit)

```
// Position dÃ©tendue (90Â°)
s1 90
â†’ Servo 1 angle 90 pwm 307

// PliÃ© jusqu'au bout
s1 0
â†’ Servo 1 angle 0 pwm 102

// DÃ©plie
s1 45
â†’ Servo 1 angle 45 pwm 204

// ComplÃ¨tement dÃ©pliÃ©
s1 180
â†’ Servo 1 angle 180 pwm 511

// Retour au neutre
s1 90
â†’ Servo 1 angle 90 pwm 307
```

### Ã‰tapes - Tous les Servos SÃ©quentiellement

```
// Centrer tous
c-1

// Servo 0
s0 45   [attendre 1s]
s0 90   [attendre 1s]
s0 135  [attendre 1s]
s0 90   [attendre 1s]

// Servo 1
s1 0    [attendre 1s]
s1 90   [attendre 1s]
s1 180  [attendre 1s]
s1 90   [attendre 1s]

// Servo 2
s2 0    [attendre 1s]
s2 90   [attendre 1s]
s2 180  [attendre 1s]
s2 90   [attendre 1s]

// ... et ainsi de suite pour les autres

// Finalement, tous centrÃ©s
c-1
```

---

## âš™ï¸ ScÃ©nario 6 : Basculement Mode Genou

### Objectif
Comprendre la diffÃ©rence entre genou haut et genou bas.

### Ã‰tapes

```
// Mode genou haut (dÃ©faut)
k
â†’ Knee Up: 1

// Positionner jambe
l0 140
â†’ (x,y) = (0.00, 140.00) â†’ (Theta1, Theta2) = (90.00, -90.00)

// Basculer en mode genou bas
k
â†’ Knee Up: 0

// MÃªme position, mais autres angles
l0 140
â†’ (x,y) = (0.00, 140.00) â†’ (Theta1, Theta2) = (90.00, 90.00)

// Basculer de nouveau
k
â†’ Knee Up: 1
```

---

## ğŸš¨ ScÃ©nario 7 : Gestion d'Erreurs

### Objectif
Tester les cas d'erreur et les messages correspondants.

### Ã‰tapes - Position Trop Loin

```
l100 100
â†’ (x,y) = (100.00, 100.00) â†’ Target Too Far, Distance 141.42
â†’ HIP LIMIT Reached: Aborted movement
â†’ return false
```

### Ã‰tapes - Position Trop Proche

```
l0 0
â†’ (x,y) = (0.00, 0.00) â†’ Target Too Close, Distance 0.00
â†’ return false
```

### Ã‰tapes - Position Impossible

```
l0 50
â†’ (x,y) = (0.00, 50.00) â†’ Target Unreachable
â†’ return false
```

### Ã‰tapes - Index Servo Invalide

```
s10 90
â†’ Invalid servo index 10
s6 90
â†’ Invalid servo index 6 (car on n'a que 0-5)
```

### Ã‰tapes - Pin Invalide

```
c99
â†’ Invalid servo index 99
```

---

## ğŸ“Š ScÃ©nario 8 : Test de Marche Continue

### Objectif
Laisser le robot marcher continuellement et observer la stabilitÃ©.

### Ã‰tapes

```
// Initialiser
c-1
â†’ [Tous les servos centrÃ©s]

// DÃ©marrer la marche
w
â†’ [DÃ©but du cycle de marche]

[Laisser tourner 1 minute - observer le mouvement]

// Ã€ chaque cycle (~4 secondes):
â†’ Servo move progressif
â†’ Alternance droite/gauche fluide
â†’ Pas rÃ©guliers

// ArrÃªter
w
â†’ [Retour Ã  position neutre]
```

### Observations Attendues

- âœ… Jambes alternent rÃ©guliÃ¨rement
- âœ… Pas rÃ©guliers et symÃ©triques
- âœ… Pas de mouvements saccadÃ©s
- âœ… Hauteur constante (REST_HEIGHT)

---

## ğŸ“ˆ ScÃ©nario 9 : Ajustement de ParamÃ¨tres (Modifications de Code)

### Objectif
Modifier les paramÃ¨tres et observer les changements de marche.

### Modifications SuggÃ©rÃ©es

```cpp
// AccÃ©lÃ©rer la marche (au lieu de 4000 ms)
const float CYCLE_PERIOD = 2000.0;  // 2x plus rapide

// Faire des pas plus grands
const float STEP_LENGTH = 40.0;  // 2x step size

// Lever plus haut
const float MAX_SWING_HEIGHT = 40.0;  // 2x hauteur

// Ã‰ventuellement modifier les limites d'angle
float angleLimit[][2] = { 
    {0.0, 100.0},   // Right Hip : limite rÃ©duite Ã  100Â°
    ...
};
```

After modification â†’ Recharger le code â†’ Tester `w`

---

## ğŸ’¾ Enregistrement de SÃ©quence

### Utiliser Python pour Automatiser

```python
import serial
import time

ser = serial.Serial('COM4', 115200)
time.sleep(2)

commands = [
    'c-1\n',
    'w\n',         # Marche
]

for cmd in commands:
    ser.write(cmd.encode())
    time.sleep(0.5)
    
time.sleep(10)     # Laisser marcher 10s

ser.write('w\n')   # ArrÃªter
ser.close()
```

---

## ğŸ”§ Points de VÃ©rification

Avant de lancer les tests complets :

- [ ] Arduino connectÃ© et reconnu
- [ ] Vitesse sÃ©rie : 115200 baud
- [ ] Driver PWM dÃ©tectÃ© sur I2C
- [ ] Tous les servos sous tension
- [ ] Aucun cÃ¢ble desserrÃ©
- [ ] Tous les servos rÃ©pondent Ã  `c-1`

---

## ğŸ“ Progression RecommandÃ©e

1. **DÃ©marrer simple** : `c-1` puis `w`
2. **Tester positions** : `l` avec diffÃ©rentes coordonnÃ©es
3. **Tester servos** : `s` individuellement
4. **Observer progression** : `p0.0` Ã  `p1.0`
5. **Marche continue** : Laisser tourner quelques minutes
6. **Ajuster paramÃ¨tres** : Modifier CYCLE_PERIOD, STEP_LENGTH
7. **DÃ©boguer** : Activer piÃ¹ de Serial.println

---

**DerniÃ¨re mise Ã  jour** : 5 fÃ©vrier 2026
